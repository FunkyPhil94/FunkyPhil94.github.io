@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root{
    --pad:.85rem;
    --page-max: min(96vw, 1580px);
    --color-text:#1b2233;
    --color-muted:rgba(27,34,51,.65);
    --color-page:linear-gradient(180deg,#f6f8ff 0%,#f2f4fb 60%,#eaecf5 100%);
    --color-panel:#fff;
    --color-panel-border:#d6d8df;
    --color-panel-shadow:0 16px 26px -18px rgba(15,23,42,.18);
    --color-tab-bg:#f7f8fb;
    --color-tab-border:#d0d3db;
    --color-tab-active-shadow:#4455ff33;
    --color-table-border:#e4e6ed;
    --color-table-stripe:#f9f9fc;
    --color-stat-border:#e0e3eb;
    --accent:#4c5dff;
}

body{
    margin:0;
    background:var(--color-page);
    min-height:100vh;
    color:var(--color-text);
    font-family:"Inter", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    transition:background .3s ease, color .3s ease;
}

body[data-theme="dark"]{
    --color-text:#f8fafc;
    --color-muted:rgba(226,232,255,.7);
    --color-page:linear-gradient(180deg,#0f172a 0%,#111827 55%,#020617 100%);
    --color-panel:#111827;
    --color-panel-border:#1e293b;
    --color-panel-shadow:0 24px 36px -22px rgba(2,6,23,.75);
    --color-tab-bg:#1f2937;
    --color-tab-border:#334155;
    --color-tab-active-shadow:#2563eb55;
    --color-table-border:#1e293b;
    --color-table-stripe:rgba(148,163,184,.12);
    --color-stat-border:#27364d;
    --accent:#60a5fa;
}

.page{
    width:var(--page-max);
    margin:0 auto;
    padding:calc(var(--pad) * 1.8) calc(var(--pad) * 1.4) calc(var(--pad) * 2.8);
    display:flex;
    flex-direction:column;
    gap:calc(var(--pad) * 1.35);
}

.page-header{
    display:flex;
    gap:1.25rem;
    align-items:flex-start;
    justify-content:space-between;
    flex-wrap:wrap;
    background:var(--color-panel);
    border-radius:.9rem;
    padding:calc(var(--pad) * 1.2);
    box-shadow:var(--color-panel-shadow);
}

.page-heading h1{
    margin:0;
    font-size:2rem;
}

.page-heading p{
    margin:.25rem 0 0;
}

.page-actions{ display:flex; gap:.75rem; align-items:center; flex-wrap:wrap; }
.tabs { display:flex; gap:.5rem; flex-wrap:wrap; }
.tab { padding:.45rem .9rem; border:1px solid var(--color-tab-border); border-radius:.6rem; text-decoration:none; background:var(--color-tab-bg); font-weight:500; color:inherit; transition:background .2s ease, box-shadow .2s ease, color .2s ease; }
.tab.active { background:var(--color-panel); border-color:var(--accent); box-shadow:0 0 0 2px inset var(--color-tab-active-shadow); color:var(--accent); }
.tab:hover{ color:var(--accent); }

.theme-toggle{
    border-radius:.6rem;
    padding:.45rem .95rem;
    border:1px solid var(--color-tab-border);
    background:var(--color-panel);
    cursor:pointer;
    transition:transform .15s ease, box-shadow .2s ease, background .2s ease;
}

.theme-toggle:hover{ transform:translateY(-1px); box-shadow:0 10px 22px -16px rgba(15,23,42,.25); }

body[data-theme="dark"] .theme-toggle:hover{ box-shadow:0 10px 22px -16px rgba(2,6,23,.7); }
body[data-theme="dark"] .theme-toggle{ border-color:#334155; }

.ghost{
    background:transparent;
    border:1px solid var(--color-tab-border);
    border-radius:.6rem;
    padding:.4rem .75rem;
    cursor:pointer;
}

.ghost:hover{ border-color:var(--accent); color:var(--accent); }

body[data-theme="dark"] .ghost{ color:var(--color-muted); border-color:#334155; }
body[data-theme="dark"] .ghost:hover{ color:var(--accent); border-color:var(--accent); }

.content{ display:flex; flex-direction:column; gap:var(--pad); }

.table-layout{
    display:grid;
    gap:var(--pad);
    grid-template-columns:minmax(0, 1fr);
}

.table-filters{
    display:flex;
    flex-direction:column;
    gap:var(--pad);
    align-self:start;
}

.table-main{
    display:flex;
    flex-direction:column;
    gap:var(--pad);
    min-height:0;
}

.panel{
    background:var(--color-panel);
    border-radius:.9rem;
    padding:calc(var(--pad) * 1.1);
    box-shadow:var(--color-panel-shadow);
}

.filters-panel{ display:flex; flex-direction:column; gap:1.1rem; }
.filters-header{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.filters-header h2{ margin:0; font-size:1.25rem; }
.filters-grid{ display:grid; gap:.85rem; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
.filters-grid label{
    display:flex;
    flex-direction:column;
    gap:.35rem;
    font-weight:600;
}

.filters-grid input,
.filters-grid select{
    width:100%;
    min-height:2.5rem;
    border-radius:.6rem;
    border:1px solid var(--color-panel-border);
    padding:.4rem .65rem;
    background:var(--color-panel);
    color:inherit;
}

body[data-theme="dark"] .filters-grid input,
body[data-theme="dark"] .filters-grid select{
    background:#0f172a;
    border-color:#334155;
}

.filters-actions{
    display:flex;
    flex-wrap:wrap;
    justify-content:flex-start;
    gap:.65rem;
    margin-top:.4rem;
}

.stats-panel{ display:flex; flex-direction:column; gap:.9rem; }
.stats-panel h2{ margin:0; font-size:1.25rem; }
.stats{ display:flex; flex-direction:column; gap:.75rem; }
.stat { padding:.65rem 1rem; border:1px solid var(--color-stat-border); border-radius:.75rem; background:rgba(255,255,255,.55); box-shadow:0 8px 16px -14px rgba(15,23,42,.18); flex:1 1 160px; }
body[data-theme="dark"] .stat{ background:rgba(15,23,42,.45); box-shadow:0 10px 18px -18px rgba(2,6,23,.8); }

.table-wrap{ max-height:70vh; min-height:45vh; overflow:auto; }

.table-wrap.panel{ padding:0; }

table{ width:100%; border-collapse:separate; border-spacing:0; }

thead th{ position:sticky; top:0; background:var(--color-panel); cursor:pointer; padding:.6rem .75rem; border-bottom:1px solid var(--color-table-border); text-align:left; color:inherit; }

tbody td{ padding:.55rem .75rem; border-bottom:1px solid var(--color-table-border); }

tbody tr:nth-child(even){ background:var(--color-table-stripe); }

.muted{ opacity:1; color:var(--color-muted); font-size:.9rem; }

.charts-grid{
    display:grid;
    gap:1.1rem;
    grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
    grid-auto-rows:1fr;
}

.charts-grid > .panel{ display:flex; flex-direction:column; gap:.75rem; min-height:280px; height:100%; }
.charts-grid > .panel h2{ margin:0; }
.charts-grid canvas{ flex:1; width:100% !important; min-height:240px; }

.row { display:flex; gap:.65rem; align-items:center; flex-wrap:wrap; }

.pager{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:var(--pad);
    background:var(--color-panel);
    border-radius:.9rem;
    padding:.75rem 1.2rem;
    box-shadow:var(--color-panel-shadow);
}

.pager p{ margin:0; }

@media (min-width: 720px){
    :root{ --pad:1rem; }
    .page{ padding:calc(var(--pad) * 1.8) calc(var(--pad) * 2.2); }
    .table-layout{ grid-template-columns:minmax(280px, 360px) 1fr; align-items:start; }
    .table-filters{ position:sticky; top:calc(var(--pad) * 1.5); }
}

@media (min-width: 980px){
    .page-actions{ justify-content:flex-end; }
    .stats{ flex-direction:row; flex-wrap:wrap; }
}

@media (min-width: 1240px){
    .table-layout{ grid-template-columns:minmax(300px, 380px) 1fr; gap:calc(var(--pad) * 1.25); }
}

@media (max-width: 640px){
    .page{ padding:calc(var(--pad) * 1.4); width:100%; }
    .tabs{ width:100%; }
    .tab{ flex:1 1 auto; text-align:center; }
    .filters-grid{ grid-template-columns:1fr; }
    .table-wrap{ max-height:none; min-height:0; }
    .pager{ flex-direction:column; align-items:flex-start; }
}
